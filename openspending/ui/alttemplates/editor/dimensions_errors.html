{% extends "base.html" %}
{% from "editor/_nav.html" import editor_nav as editor_nav %}

{% block page_title %}{{c.dataset.label or c.dataset.name}}{% endblock %}

{% block content %}
<!-- templates/editor/dimensions_errors.html -->
{{editor_nav(h, c, 'dimensions')}}

<div class="row">
  <div class="span8 offset4">
    {% if c.dataset|length %}
    <div class="alert block-message alert-warning">
      <p>
        <strong>You cannot edit dimensions while data is loaded.</strong>
        In order to modify the dimensions model, you'll have to 
        delete all the data that is currently loaded from the database.
      </p>
      <a href="{{ h.url(controller='editor', action='index',
               dataset=c.dataset.name) }}" class="btn">Go to dashboard</a>
      <a href="{{ h.url(controller='dimension', action='index',
              dataset=c.dataset.name) }}" class="btn">See dimensions</a>
    </div>
    {% endif %}
        
    {% if not c.source %}
    <div class="alert block-message alert-warning">
      <p>
        <strong>You need to define at least one data source.</strong>
        In order to create a dimensions model, at least on data source
        needs to be available.
      </p>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
